import{_ as o,M as d,p as c,q as i,R as e,t as a,N as r,a1 as n}from"./framework-5866ffd3.js";const t={},l=n(`<h1 id="podman-踩坑" tabindex="-1"><a class="header-anchor" href="#podman-踩坑" aria-hidden="true">#</a> podman 踩坑</h1><p>新装了archlinux，寻思着自己也不用啥docker很复杂的功能，试试podman吧，没想到还是踩了几个坑</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> pacman <span class="token parameter variable">-S</span> <span class="token function">podman</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="使用dockerfile" tabindex="-1"><a class="header-anchor" href="#使用dockerfile" aria-hidden="true">#</a> 使用Dockerfile</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">podman</span> build <span class="token parameter variable">--tag</span> tagName <span class="token builtin class-name">.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>就下不到包了，需要在<code>/etc/containers/registries.conf</code>里面新增一条</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>unqualified-search-registries <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;docker.io&quot;</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>用来指定从docker库里下。刚用的时候还加了换成163的源的设置，没想到有几个包下载不下来，把换源给去掉就能正常下载了。速度能接受，就不细追究是不是设置的问题了。</p><h2 id="使用-docker-compose-yml" tabindex="-1"><a class="header-anchor" href="#使用-docker-compose-yml" aria-hidden="true">#</a> 使用 docker-compose.yml</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> pacman <span class="token parameter variable">-S</span> <span class="token function">podman-compose</span>
<span class="token function">podman-compose</span> up
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>项目启动起来了，但是又没完全启动起来，nginx说解析不了container名称。 这有点劝退，docker-compse的容器名解析还是很方便的，不能用还得用回docker。</p>`,11),p={href:"https://github.com/containers/podman-compose/issues/531#issuecomment-1199824070",target:"_blank",rel:"noopener noreferrer"},m=n(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> pacman <span class="token parameter variable">-S</span> aardvark
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>就可以解析了。查了一下archlinx包，podman-compose 和 podman-dnsname 都没有相关的依赖建议，我还认为是自己安装过得太快没细看，就…既然能用就不细究了</p><h2 id="题外话" tabindex="-1"><a class="header-anchor" href="#题外话" aria-hidden="true">#</a> 题外话</h2><p>使用了podman才发现的奇怪的点：<code>busybox</code>测试网络，ping需要root权限。</p>`,4);function u(h,b){const s=d("ExternalLinkIcon");return c(),i("div",null,[l,e("p",null,[a("找了一圈，archlinux wiki 上也没看出所以然。看到在"),e("a",p,[a("github上的解释"),r(s)]),a("，抱着试试看的心情安装了")]),m])}const k=o(t,[["render",u],["__file","podman-compose.html.vue"]]);export{k as default};
